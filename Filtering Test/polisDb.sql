CREATE TABLE AGENT(
	AGENT_CODE VARCHAR(10) PRIMARY KEY,
	AGENT_NAME VARCHAR(20),
	AGENT_OFFICE VARCHAR(20),
	BASIC_COMMISION MONEY
);

CREATE TABLE CLIENT(
	CLIENT_NUMBER VARCHAR(10) PRIMARY KEY,
	CLIENT_NAME VARCHAR(20),
	BIRTH_DATE DATE
);

CREATE TABLE POLICY(
	POLICY_NUMBER INTEGER,
	POLICY_SUBMIT_DATE DATE,
	PREMIUM MONEY,
	DISCOUNT INTEGER,
	COMMISION MONEY,
	POLICY_STATUS VARCHAR(15),
	POLICY_DUE_DATE DATE,
	AGENT_CODE VARCHAR,
	CLIENT_NUMBER VARCHAR,
	CONSTRAINT AG_CLIENT PRIMARY KEY(POLICY_NUMBER, AGENT_CODE, CLIENT_NUMBER)
-- 	FOREIGN KEY (AGENT_CODE) REFERENCES AGENT (AGENT_CODE),
-- 	FOREIGN KEY (CLIENT_NUMBER) REFERENCES CLIENT (CLIENT_NUMBER)
);

INSERT INTO AGENT (AGENT_CODE, AGENT_NAME, AGENT_OFFICE, BASIC_COMMISION)
VALUES ('AG001','LIDYA', 'JAKARTA', NULL),
('AG002','RUDI', 'BALI', NULL),
('AG003','DICKY', 'BALI', NULL),
('AG004','DAVID', 'SURABAYA', NULL),
('AG005','FARIZ', 'SURABAYA', NULL);

INSERT INTO CLIENT (CLIENT_NUMBER, CLIENT_NAME, BIRTH_DATE)
VALUES ('CL001','WAYNE ROONEY', '1956-05-11'),
('CL002','RYAN GIGGS', '1972-09-03'),
('CL003','DAVID BECKHAM', '1985-09-03'),
('CL004','MICHAEL OWEN', '2012-09-03');

INSERT INTO POLICY (POLICY_NUMBER, POLICY_SUBMIT_DATE, PREMIUM, DISCOUNT, COMMISION, CLIENT_NUMBER, AGENT_CODE, POLICY_STATUS)
VALUES (001,'2018-01-05', 18600000, 10, 930000, 'CL001', 'AG001', 'INFORCE'),
(002,'2018-01-05', 2500000, 10, 125000, 'CL002', 'AG002', 'INFORCE'),
(003,'2018-01-10', 2500000, 10, 125000, 'CL003', 'AG003', 'TERMINATE'),
(004,'2018-01-25', 4000000, 10, 200000, 'CL003', 'AG002', 'PROPOSAL'),
(005,'2018-01-25', 2625000, 10, 131250, 'CL004', 'AG002', 'PROPOSAL');


SELECT * FROM CLIENT
SELECT * FROM AGENT
SELECT * FROM POLICY